<!DOCTYPE html>
<html>
<head>
  <title>Windy API Test</title>
  <style>
    #windy { width: 100vw; height: 100vh; }
  </style>
</head>
<body>
  <div id="windy"></div>

  <script src="https://api.windy.com/assets/map-forecast/libBoot.js"></script>
  <script>
    window.windyInit = function(windyAPI) {
      const { map } = windyAPI;
      map.setView([20, 0], 3);  // Center the map
      console.log("Windy map initialized");
    };

    new Promise(function(resolve) {
      window.windyInit = function(windyAPI) {
        resolve(windyAPI);
      };
    }).then(function(windyAPI) {
      const { map } = windyAPI;
      map.setView([20, 0], 3);
      console.log("Windy map loaded");
    });

  </script>
  <script src="https://api.windy.com/assets/map-forecast/libBoot.js"></script>
  <script>
    window.windyAPIKey = '9tfTY7UVC41o3gdhQATp1VpLIOkKXIzt';
  </script>
</body>
</html>
